@using System.Web.Mvc.Html
@using Skybrud.Umbraco.GridData
@using Skybrud.Umbraco.GridData.Extensions
@inherits UmbracoViewPage<GridDataModel>

@{

    // Stop any further rendering since the model isn't valid
    if (!Model.IsValid) { return; }

    // Compared to "Fanoe.cshtml" from the Fanoe starter kit, it will check and handle in different ways if is just a
    // single section or multiple sections. This examples doesn't since the Umbraco UI doesn't really allow users to
    // add more than one section.

    <section id="bricks2">

        <div class="row masonry">

            <!-- brick-wrapper -->
            <div class="bricks-wrapper">
                @foreach (GridSection section in Model.Sections)
                {
                    <div class="grid-sizer"></div>
                    foreach (GridRow row in section.Rows.Where(x => x.IsValid))
                    {
                        <article class="brick entry format-standard animate-this">

                            @Html.RenderGridRow(row, "Default")

                        </article> <!-- end article -->
                    }
                }
            </div> <!-- end brick-wrapper -->

        </div> <!-- end row -->
        }
    </section>
}
